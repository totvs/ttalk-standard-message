{
    "$schema": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/schemas/UpddatesLog_1_000.json#",
    "info": {
        "description": "Contrato de Mensagem Padronizada para a entidade log de atualizações dos dicionários de dados do produto Totvs Discovery",
        "version": "1.000",
        "title": "UpdatesLog",
        "contact": {
            "name": "T-Talk",
            "url": "API.Totvs.com.br",
            "email": "comiteintegracao@totvs.com.br"
        },
        "x-totvs": {
            "transactionDefinition": {
                "subType": "event",
                "businessContentType": {
                    "type": "object",
                    "$ref": "#/definitions/UpdateLogType"
                },
                "returnContentType": {
                    "type": "object",
                    "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/schemas/types/ListOfInternalId_1_000.json#/definitions/ReturnContentWithModelType"
                }
            },
            "messageDocumentation": {
                "name": "UpdatesLog",
                "description": "UpdatesLog",
                "segment": "Foundation"
            },
            "productInformation": [{
                "product": "Protheus",
                "contact": "Protheus_FW@totvs.com.br",
                "description": "UpdatesLog",
                "adapter": "FWUpdatesLog.prw",
                "helpUrl": "link aqui"
            }]
        }
    },
    "definitions": {
        "PagedLogs": {
            "type": "object",
            "allOf": [{
                    "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
                },
                {
                    "type": "object",
                    "properties": {
                        "items": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/UpdateLogType"
                            }
                        }
                    }
                }
            ]
        },
        "DetailLogs": {
            "type": "object",
            "allOf": [{
                    "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
                },
                {
                    "type": "object",
                    "properties": {
                        "items": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/DetailLogsType"
                            }
                        }
                    }
                }
            ]
        },
        "UpdateLogType": {
            "type": "object",
            "properties": {
                "updateid": {
                    "description": "Id de Atualização",
                    "type": "string",
                    "example": "31101741"
                },
                "company": {
                    "type": "string",
                    "example": "99",
                    "description": "Empresa Protheus"
                },
                "date": {
                    "type": "string",
                    "example": "20200609",
                    "description": "Data da atualização"
                },
                "time": {
                    "type": "string",
                    "example": "09:27:22",
                    "description": "Hora da atualização"
                },
                "metadata": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ListMetaData"
                    }
                }
            }
        },
        "ListMetaData": {
            "type": "object",
            "properties": {
                "em_prjcod": {
                    "description": "Código do Projeto",
                    "type": "string",
                    "example": "000005"
                },
                "fl_date": {
                    "description": "Data da atualização",
                    "type": "date",
                    "example": "20200217"
                },
                "fl_time": {
                    "description": "Horário da atualização",
                    "type": "string",
                    "example": "10:30:56"
                },
                "fl_descri": {
                    "description": "Descrição do pacote",
                    "type": "string",
                    "example": "Pacote TOTVS"
                },
                "em_encrel": {
                    "description": "Identificador do pacote",
                    "type": "date",
                    "example": "48F5ACB296E9D64"
                }
            }
        },
        "DetailLogsType": {
            "type": "object",
            "properties": {
                "updateid": {
                    "description": "Id de Atualização",
                    "type": "string",
                    "example": "31101741"
                },
                "type": {
                    "description": "Tipo de operação",
                    "type": "string",
                    "example": "2"
                },
                "date": {
                    "type": "string",
                    "example": "20200609",
                    "description": "Data da atualização"
                },
                "company": {
                    "type": "string",
                    "example": "99",
                    "description": "Empresa Protheus"
                },
                "table": {
                    "type": "string",
                    "example": "99",
                    "description": "Dicionário atualizado. Ex.:SX3"
                },
                "log": {
                    "type": "string",
                    "example": "Incluindo registro chave C91+7 na tabela SIX",
                    "description": "Detalhes do log"
                }
            }
        }
    }
}