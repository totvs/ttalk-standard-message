{
	"$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/schemas/SystemParameter_1_000.json#",
	"info": {
		"description": "Contrato de Mensagem Padronizada para a entidade SystemParameter para produtos TOTVS",
		"version": "1.000",
		"title": "System Parameters",
		"contact": {
			"name": "T-Talk",
			"url": "API.Totvs.com.br",
			"email": "comiteintegracao@totvs.com.br"
		},
		"x-totvs": {
			"messageDocumentation": {
				"name": "systemParameters",
				"description": "Parâmetros de Sistema",
				"segment": "Foundation"
			},
			"productInformation": [
				{
					"product": "DATASUL",
					"contact": "andre.l@totvs.com.br",
					"description": "Propriedades do Sistema"
				},
				{
					"product": "rm",
					"contact": "RM_FW@totvs.com.br",
					"description": "Parâmetros de Sistema",
					"helpUrl": "http://tdn.totvs.com/x/1RjvGQ"
				}
			]
		}
	},
	"definitions": {
		"PagedParameters": {
			"type": "object",
			"allOf": [
				{
					"$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
				},
				{
					"$ref": "#/definitions/SystemParameters"
				}
			]
		},
		"SystemParameters": {
			"type": "object",
			"properties": {
				"items": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/ParameterInfo"
					}
				}
			}
		},
		"ParameterInfo": {
			"type": "object",
			"properties": {
				"systemParameterId": {
					"description": "Identificador parâmetro de sistema",
					"type": "string",
					"x-totvs":[
						{
						"product": "rm",
						"field": "GparamsSistema: GPARAMETROSISTEMA.CODIGO ; Parâmetros Gerais por coligada {código da coligada}|{Nome da coluna na tabela} ; Parâmetros Gerais globais: {Nome da coluna na tabela} ; Parâmetros de produto: {customData}|{nome do parâmetro}",
						"required": true,
						"type": "string",
						"length": "tamanho variável",
						"note": "A origem do valor que identifica o parâmetro varia de acordo com o tipo de parâmetro.",
						"available": true,
						"canUpdate": false
						}
					]
				},
				"companyID": {
					"description": "Código da empresa",
					"type": "string",
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "Código do grupo de empresa. Deve ser igual ao do TenantID",
							"field": "cEmpAnt",
							"length": "2",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": false
						},
						{
							"product": "rm",
							"field": "GparamsSistema: NA ; Parâmetros Gerais por coligada: coluna CodColigada ; Parâmetros Gerais globais: NA ; Parâmetros de produto: NA",
							"required": false,
							"type": "string",
							"length": "tamanho variável",
							"note": "Código da coligada a que se refere o parâmetro. Quando nulo o parâmetro é considerado global.",
							"available": true,
							"canUpdate": false
						}
					]
				},
				"branchID": {
					"description": "Código da Filial",
					"type": "string",
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "Código da Filial. Deve ser igual ao do TenantID",
							"field": "X6_FIL",
							"length": "12",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": false
						},
						{
							"product": "rm",
							"available": false
						}
					]
				},
				"code": {
					"description": "Código do parâmetro",
					"type": "string",
					"required": true,
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "Código do paramêtro no sistema Exemplo MV_EXEMPLO. A Filial será pelo tenantId do header.",
							"field": "X6_VAR",
							"length": "10",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"field": "cod_param",
							"note": "Código do paramêtro no sistema.",
							"available": true,
							"length": "50"
						},
						{
							"product": "rm",
							"field": "GparamsSistema: GPARAMETROSISTEMA.CODIGO ; Parâmetros Gerais por coligada {Nome da coluna na tabela} ; Parâmetros Gerais globais: {Nome da coluna na tabela} ; Parâmetros de produto: nome da propriedade da classe ou nome definido via atributo",
							"required": false,
							"type": "string",
							"length": "tamanho variável",
							"note": "Código que identifica o parâmetro",
							"available": true,
							"canUpdate": false
						}
					]
				},
				"type": {
					"description": "Tipo do paramêtro",
					"type": "string",
					"required": true,
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "Tipo do parâmetro.Caracter (C), Numérico(N),Data(D), Lógico(L)",
							"field": "X6_TIPO",
							"length": "1",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"field": "cdn_tip_dado",
							"note": "Tipo do parâmetro. Exemplos: Caracter(C), Numérico (N), Data (D) e Lógico (L).",
							"available": true,
							"length": "1"
						},
						{
							"product": "rm",
							"field": "GparamsSistema: GPARAMETROSISTEMA.TIPO define o tipo ; Parâmetros Gerais por coligada: Tipo definido na coluna do banco de dados ; Parâmetros Gerais globais: Tipo definido na coluna do banco de dados ; Parâmetros de produto: tipo da propriedade que representa o parâmetro",
							"required": false,
							"type": "string",
							"length": "tamanho variável",
							"note": "Tipo de dados que representa o parâmetro",
							"available": true,
							"canUpdate": false
						}
					]
				},
				"description": {
					"type": "array",
					"required": true,
					"items": {
						"$ref": "#/definitions/ParameterDescription"
					},
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "Array de descrições no idioma."
						},
						{
							"product": "DATASUL",
							"field": "cod_ajuda_liter",
							"available": true,
							"note": "Array com as descrições nos idiomas presentes no cadastro de strings externas do produto (btb016aa)."
						},
						{
							"product": "rm",
							"available": true,
							"note": "Array de valores no idioma."
						}
					]
				},
				"value": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/ParameterValues"
					},
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "Array de valores no idioma."
						},
						{
							"product": "DATASUL",
							"field": "des_param",
							"available": true,
							"note": "Array de valores do idioma."
						},
						{
							"product": "rm",
							"available": true,
							"note": "Array de valores no idioma."
						}
						
					]
				},
				"scope": {
					"type": "string",
					"enum": [
						"global",
						"company",
						"companyUser",
						"user"
					],
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "No protheus os parametros serão sempre globais.",
							"field": "campo fixo",
							"length": "15",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": false
						},
						{
							"product": "rm",
							"field": "GparamsSistema: Sempre global ; Parâmetros Gerais por coligada: Global se CodColigada =0 , senão Company ; Parâmetros Gerais globais: sempre global ; Parâmetros de produto: Sempre Company",
							"required": false,
							"type": "string",
							"note": "Escopo de abrangência do parâmetro. Global = aplicado a todos contextos,  Company= aplicado ao contexto específico de uma coligada.",
							"available": true,
							"canUpdate": false
						}
					]
				},
				"group": {
					"type": "object",
					"properties": {
						"name": {
							"type": "string"
						},
						"displayName": {
							"type": "object"
						},
						"customData": {
							"type": "object"
						}
					},
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": false,
							"note": "No protheus não há agrupador de parâmetros"
						},
						{
							"product": "DATASUL",
							"available": true
						},
						{
							"product": "rm",
							"field": "GparamsSistema: para parâmetro persistido na tabela GPARAMSSISTEMA ; Parâmetros Gerais por coligada: Parâmetros persistidos em tabelas que tenham coluna CODCOLIGADA (GMailParams,GDepPar,GCcuPar,GGoogleService) ; Parâmetros Gerais globais: Parâmetros persistidos em tabelas sem coluna CODCOLIGADA (GParams) ; Parâmetros de produto: Nome da classe que implementam RMSParamsServer",
							"required": false,
							"type": "string",
							"note": "Grupo de parâmetros determinados pela forma que são persistidos no sistema RM (GparamsSistema: em rows; [GParams,GMailParams,GDepPar,GCcuPar,GGoogleService] em colunas ; ParamsServer: propriedades previstas em classe que implementam RMSParamsServer ).",
							"available": true,
							"canUpdate": false
						}
					]
				}
			}
		},
		"ParameterDescription": {
			"type": "object",
			"description": "Descrição do paramêtro",
			"properties": {
				"language": {
					"type": "string",
					"description": "Idioma da descrição do paramêtro - deverá obedecer a ISO6391 (exemplo em https://www.andiamo.co.uk/resources/iso-language-codes)",
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"field": "idioma",
							"length": "15",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": true,
							"note": "Lista fixa com os idiomas do produto (EN, ES, PT)."
						},
						{
							"product": "rm",
							"available": true,
							"canUpdate": false,
							"note": "pt-BR"
						}
					]
				},
				"descriptionText": {
					"type": "string",
					"description": "Texto da descrição do paramêtro",
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"field": "X6_DESCRIC",
							"length": "200",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": true,
							"field": "cod_ajuda_liter",
							"length": "40"
						},
						{
							"product": "rm",
							"field": "GparamsSistema: GPARAMETROSISTEMA.DESCRICAO define o tipo ; Parâmetros Gerais por coligada: Descrição definida na coluna do banco de dados ; Parâmetros Gerais globais: Descrição definida na coluna do banco de dados ; Parâmetros de produto: nome da Propriedade",
							"required": false,
							"type": "string",
							"length": "variável",
							"note": "Descrição do parâmetro",
							"available": true,
							"canUpdate": false
						}
					]
				}
			}
		},
		"ParameterValues": {
			"type": "object",
			"description": "Valor do paramêtro",
			"properties": {
				"language": {
					"type": "string",
					"description": "Idioma do valor do paramêtro",
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"field": "idioma",
							"length": "15",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": true,
							"note": "Lista fixa com os idiomas do produto (EN, ES, PT)."
						},
						{
							"product": "rm",
							"available": true,
							"canUpdate": false,
							"note": "pt-BR."
						}
					]
				},
				"parameterValue": {
					"type": "string",
					"description": "Valor do paramêtro",
					"x-totvs": [
						{
							"product": "PROTHEUS",
							"available": true,
							"note": "No protheus os parametros serão sempre globais.",
							"field": "X6_CONTEUD",
							"length": "250",
							"type": "string"
						},
						{
							"product": "DATASUL",
							"available": true,
							"field": "des_param",
							"length": "150"
						},
						{
							"product": "rm",
							"field": "GparamsSistema: GPARAMETROSISTEMA.VALOR ; Parâmetros Gerais por coligada: Valor persistido na coluna do banco de dados ; Parâmetros Gerais globais: Valor persistido na coluna do banco de dados ; Parâmetros de produto: valor da propriedade",							
							"type": "variável",
							"length": "variável",
							"required": true,
							"note": "Array de descrições junto do idioma.",
							"available": true,
							"canUpdate": true
						}
					]
				}
			}
		}
	}
}